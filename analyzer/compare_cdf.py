import argparse
import copy
import os
import warnings
import time
import json
import numpy as np
import pandas as pd
import scienceplots
import os
import matplotlib.pyplot as plt
plt.style.use(['science','ieee', 'no-latex'])
plt.rcParams.update({'font.size': 12, 'hatch.linewidth': 0.25, 'hatch.color': 'gray', 'font.serif': 'DejaVu Sans',})

scriptDir = os.path.dirname(os.path.realpath(__file__))

def load_data():
    proc_time_qwen2_7b_nfv_conf = np.array([6.37, 1.2, 1.2, 1.2, 1.17, 1.19, 1.19, 1.2, 1.21, 1.17, 1.17, 1.15, 1.21, 1.21, 1.21, 2.94, 2.83, 2.82, 2.83, 2.83, 2.83, 2.81, 2.8, 2.82, 2.9, 2.9, 2.85, 2.52, 2.57, 2.52, 0.93, 0.95, 0.92, 0.87, 0.91, 0.84, 0.94, 0.93, 0.87, 0.81, 0.77, 0.8, 0.99, 1.0, 0.97, 1.15, 1.13, 1.12, 1.08, 1.15, 1.15, 1.18, 1.17, 1.18, 1.15, 1.11, 1.08, 1.22, 1.14, 1.19, 0.68, 0.6, 0.47, 0.7, 0.68, 0.57, 0.6, 0.62, 0.49, 0.7, 0.61, 0.67, 0.69, 0.64, 0.57, 0.67, 0.66, 0.49, 0.64, 0.63, 0.59, 0.65, 0.66, 0.6, 1.19, 1.18, 1.16, 1.2, 1.16, 1.2, 1.21, 1.18, 1.21, 1.19, 1.18, 1.21, 3.0, 2.91, 2.9, 1.78, 1.89, 1.87, 2.44, 2.43, 2.26, 0.69, 0.68, 0.6, 0.96, 0.92, 0.77, 0.71, 0.73, 0.71, 0.83, 0.83, 0.75, 1.24, 1.22, 1.01])

    proc_time_qwen2_7b_nfv_conf_cnt, proc_time_qwen2_7b_nfv_conf_bin_cnt = np.histogram(proc_time_qwen2_7b_nfv_conf, bins=300)
    proc_time_qwen2_7b_nfv_conf_pdf = proc_time_qwen2_7b_nfv_conf_cnt / sum(proc_time_qwen2_7b_nfv_conf_cnt)
    proc_time_qwen2_7b_nfv_conf_cdf = np.cumsum(proc_time_qwen2_7b_nfv_conf_pdf)

    print(f"proc_time_qwen2_7b_nfv_conf 95%: {np.percentile(proc_time_qwen2_7b_nfv_conf, 95)}")
    print(f"proc_time_qwen2_7b_nfv_conf 99%: {np.percentile(proc_time_qwen2_7b_nfv_conf, 99)}")
    print(f"average proc_time_qwen2_7b_nfv_conf: {np.average(proc_time_qwen2_7b_nfv_conf)}")



    proc_time_formal_spec_ft = np.array([8.77, 1.18, 8.93, 2.35, 1.9, 0.79, 0.78, 8.88, 8.78, 0.99, 2.31, 2.63, 1.85, 0.85, 4.45, 2.01, 1.18, 4.42, 8.96, 1.01, 1.17, 2.14, 2.23, 11.26, 5.1, 0.81, 1.17, 0.82, 0.83, 4.54, 9.16, 1.4, 3.64, 7.46, 0.99, 2.0, 0.84, 4.75, 7.96, 4.59, 4.54, 4.62, 3.15, 1.19, 2.02, 0.82, 1.19, 0.82, 4.71, 0.84, 0.81, 2.08, 4.46, 1.15, 1.18, 1.2, 0.84, 0.79, 4.45, 0.83, 1.11, 9.1, 4.67, 0.82, 2.01, 1.98, 1.16, 3.9, 0.83, 4.52, 2.22, 0.86, 4.39, 1.21, 0.83, 2.14, 7.17, 2.27, 2.04, 0.8, 4.5, 4.32, 0.84, 1.94, 5.03, 1.24, 1.15, 0.84, 4.14, 2.04, 4.16, 2.24, 0.87, 0.8, 3.96, 1.18, 0.83, 4.72, 1.94, 1.92, 0.84, 2.23, 0.83, 1.18, 5.34, 4.03, 0.89, 1.99, 5.32, 1.21, 1.95, 1.98, 5.79, 0.88, 7.33, 3.38, 2.01, 1.17, 2.06, 0.8, 1.94, 1.96, 1.18, 7.73, 0.8, 0.82, 1.15, 1.16, 1.88, 2.04, 4.4, 4.26, 1.17, 4.49, 1.99, 0.82, 4.87, 2.13, 1.22, 3.84, 2.08, 4.15, 1.93, 0.82, 0.82, 0.83, 0.86, 4.47, 0.81, 1.01, 9.13, 1.02, 4.46, 9.06, 2.33, 0.83, 3.65, 1.96, 1.18, 1.21, 0.83, 3.54, 0.84, 2.29, 0.86, 1.03, 0.83, 2.28, 0.84, 1.19, 0.86, 8.95, 2.22, 1.21, 0.84, 4.47, 0.85, 2.04, 4.61, 1.19, 4.14, 4.69, 4.19, 3.55, 1.16, 0.8, 1.2, 0.79, 4.44, 2.02, 2.13, 1.96, 0.83, 5.05, 2.16, 0.83, 4.25, 0.82, 2.13, 0.8, 0.82, 4.05, 4.13, 4.31, 1.98, 0.82, 0.79, 1.16, 0.8, 2.17, 2.07, 4.0, 4.86, 0.84, 0.8, 2.45, 0.8, 4.49, 1.15, 7.08, 1.34, 1.12, 2.08, 1.16, 0.8, 1.14, 9.02, 2.05, 0.81, 0.83, 0.81, 0.8, 0.8, 2.05, 9.02, 2.46, 1.2, 0.82, 0.83, 0.82, 0.83, 0.8, 1.15, 3.91, 4.9, 0.82, 4.74, 0.8, 1.15, 2.08, 1.12, 4.04, 1.99, 1.16, 5.31, 9.47, 2.1, 0.8, 8.56, 9.25, 0.97, 0.81, 0.8, 1.17, 3.55, 9.14, 0.99, 3.64, 1.18, 0.81, 3.71, 2.19, 9.38, 2.01, 0.79, 8.97, 3.91, 8.95, 2.15, 1.17, 2.01, 1.19, 0.8, 1.19, 3.96, 0.83, 0.8, 0.82, 0.81, 0.86, 0.81, 5.12, 3.58, 1.14, 2.05, 9.24, 1.31, 0.8, 2.0, 0.8, 0.8, 4.01, 0.81, 1.14, 2.06, 1.98, 2.13, 1.96, 0.81, 4.45, 3.62, 4.62, 4.4, 4.75, 1.15, 2.31, 3.28, 1.96, 4.43, 1.03, 0.81, 2.05, 3.01, 0.8, 0.82, 3.52, 3.56, 0.8, 1.9, 3.5, 1.15, 0.8, 1.98, 1.17, 2.18, 2.34, 4.13, 4.08, 0.81, 1.2, 0.82, 4.03, 8.96, 0.99, 0.85, 4.11, 2.27, 2.1, 3.74, 2.26, 1.18, 3.91, 2.19, 0.8, 3.39, 0.81, 1.98, 4.48, 2.05, 0.82, 0.8, 0.81, 2.16, 4.48, 0.82, 0.8, 4.61, 0.84, 0.81, 4.19, 0.83, 0.84, 1.13, 4.52, 0.8, 4.56, 0.79, 0.82, 1.99, 3.94, 4.65, 1.98, 1.22, 1.16, 0.79, 1.21, 5.43, 1.16, 1.92, 2.1, 1.91, 4.41, 0.82, 2.68, 1.18, 4.83, 1.28, 2.22, 1.91, 1.14, 0.83, 3.17, 4.81, 0.8, 0.79, 0.81, 1.18, 9.36, 4.62, 1.15, 0.81, 2.02, 0.82, 1.2, 0.83, 1.16, 4.04, 0.82, 0.8, 0.79, 3.7, 0.82, 4.09, 8.4, 1.93, 1.16, 1.98, 1.18, 1.14, 1.12, 1.91, 2.01, 5.22, 2.13, 4.79, 2.29, 0.8, 0.8, 0.8, 4.07, 1.14, 1.18, 0.8, 1.16, 4.3, 1.18, 1.14, 0.79, 2.49, 4.21, 0.8, 2.15, 2.05, 1.17, 0.81, 0.81, 0.79, 2.14, 0.8, 2.27, 2.31, 3.69, 4.37, 4.69, 0.84, 2.06, 0.82, 1.1, 4.1, 0.79, 2.15, 2.94, 1.17, 3.73, 5.14, 4.66, 8.95, 2.28, 1.88, 1.2, 1.2, 4.39, 0.85, 5.13, 0.8, 1.23, 0.84, 1.11, 4.11, 0.82, 2.19, 4.18, 1.14, 0.82, 0.82, 4.32, 0.8, 0.81, 1.14, 4.32, 6.82, 2.22, 2.73, 2.1, 2.14, 1.15, 8.63, 0.96, 5.6, 0.79, 0.82, 9.12, 4.24, 3.5, 0.82, 0.83, 8.0, 1.3, 3.78, 0.81, 2.04, 0.82, 0.84, 1.93, 0.8, 1.18, 0.81, 1.17, 5.1, 0.84, 0.82, 4.65, 5.1, 2.25, 2.35, 2.29, 9.17, 2.15, 4.41, 3.67, 2.09, 8.78, 3.96, 7.25, 4.22, 5.21, 1.15, 0.79, 7.2, 2.36, 1.15, 0.8, 3.57, 3.61, 1.14, 1.92, 0.79, 9.03, 1.29, 4.5, 2.74, 3.61, 0.81, 4.89, 2.18, 9.77, 2.43, 1.26, 0.8, 1.18, 0.8, 0.82, 4.45, 2.43, 4.47, 1.13, 2.06, 1.16, 9.17, 0.8, 4.08, 2.07, 5.25, 2.03, 4.08, 0.81, 2.02, 2.64, 2.09, 3.96, 0.8, 4.68, 0.79, 0.8, 9.18, 2.84, 1.1, 0.79, 1.11, 0.83, 0.79, 2.09, 1.96, 0.81, 0.82, 0.8, 0.79, 1.17, 1.13, 0.81, 2.09, 3.89, 2.31, 1.12, 2.39, 3.43, 3.92, 3.81, 8.99, 2.37, 4.45, 0.87, 4.1, 0.81, 2.02, 2.24, 1.14, 0.8, 2.2, 2.33, 2.19, 0.82, 4.1, 0.8, 0.83, 5.03, 0.79, 4.88, 1.92, 2.75, 2.02, 0.83, 0.82, 0.81, 1.16, 1.17, 5.29, 2.04, 0.82, 0.8, 4.43, 1.21, 4.63, 0.82, 5.31, 1.18, 1.98, 1.16, 0.79, 1.13, 1.15, 2.07, 0.83, 0.8, 0.8, 4.99, 1.16, 2.03, 4.13, 0.78, 0.8, 5.54, 3.6, 0.81, 1.18, 2.11, 0.8, 2.48, 1.22, 9.11, 1.36, 7.08, 2.12, 0.82, 0.82, 1.91, 4.1, 0.82, 9.42, 4.31, 1.99, 0.83, 2.12, 8.69, 0.8, 0.8, 0.81, 5.07, 7.05, 4.51, 0.83, 0.79, 4.06, 0.78, 0.81, 9.0, 1.0, 0.78, 0.81, 9.55, 5.17, 2.15, 2.0, 0.83, 1.17, 2.15, 9.11, 2.53, 1.15, 1.2, 4.47, 0.81, 0.82, 0.81, 0.81, 4.99, 0.81, 0.79, 3.12, 1.19, 0.83, 0.8, 2.06, 4.46, 1.23, 1.91, 0.81, 0.83, 9.22, 2.06, 0.82, 0.82, 0.84, 0.83, 0.86, 1.94, 1.18, 0.83, 3.45, 4.57, 0.81, 2.59, 2.19, 1.91, 0.8, 0.84, 4.66, 0.81, 2.29, 2.1, 2.05, 0.82, 0.8, 3.89, 1.18, 0.83, 0.81, 1.14, 5.26, 0.82, 2.0, 0.82, 0.81])

    proc_time_formal_spec_ft_cnt, proc_time_formal_spec_ft_bin_cnt = np.histogram(proc_time_formal_spec_ft, bins=300)
    proc_time_formal_spec_ft_pdf = proc_time_formal_spec_ft_cnt / sum(proc_time_formal_spec_ft_cnt)
    proc_time_formal_spec_ft_cdf = np.cumsum(proc_time_formal_spec_ft_pdf)

    print(f"proc_time_formal_spec_ft 95%: {np.percentile(proc_time_formal_spec_ft, 95)}")
    print(f"proc_time_formal_spec_ft 99%: {np.percentile(proc_time_formal_spec_ft, 99)}")
    print(f"average proc_time_formal_spec_ft: {np.average(proc_time_formal_spec_ft)}")


    proc_time_qwen2_72b = np.array([23.08, 4.84, 2.47, 4.78, 4.64, 4.63, 4.68, 4.85, 4.85, 4.72, 4.58, 4.59, 4.72, 4.93, 4.92, 14.4, 14.82, 14.82, 14.74, 14.77, 14.76, 14.76, 14.73, 14.75, 15.05, 15.05, 14.43, 10.63, 13.01, 12.38, 3.28, 3.22, 3.29, 2.97, 3.1, 3.14, 3.1, 3.23, 3.11, 2.67, 2.67, 2.68, 3.69, 3.7, 3.7, 4.6, 4.42, 4.52, 4.38, 4.58, 4.66, 5.13, 4.61, 4.72, 4.67, 4.37, 4.37, 5.03, 4.77, 4.77, 1.8, 1.86, 1.71, 1.8, 1.87, 1.71, 1.87, 1.78, 1.78, 1.85, 1.78, 1.87, 1.79, 1.71, 1.71, 1.7, 1.71, 1.71, 1.71, 1.71, 1.71, 1.78, 1.78, 1.78, 4.77, 4.65, 5.17, 4.84, 4.67, 4.81, 4.87, 4.69, 4.85, 4.8, 4.79, 4.65, 15.05, 14.41, 14.42, 8.99, 8.99, 9.06, 12.02, 12.41, 12.0, 1.72, 1.84, 1.66, 3.8, 3.48, 3.04, 2.05, 1.86, 1.86, 2.54, 2.82, 2.46, 5.03, 5.19, 4.78])

    proc_time_qwen2_72b_cnt, proc_time_qwen2_72b_bin_cnt = np.histogram(proc_time_qwen2_72b, bins=300)
    proc_time_qwen2_72b_pdf = proc_time_qwen2_72b_cnt / sum(proc_time_qwen2_72b_cnt)
    proc_time_qwen2_72b_cdf = np.cumsum(proc_time_qwen2_72b_pdf)

    print(f"proc_time_qwen2_72b 95%: {np.percentile(proc_time_qwen2_72b, 95)}")
    print(f"proc_time_qwen2_72b 99%: {np.percentile(proc_time_qwen2_72b, 99)}")
    print(f"average proc_time_qwen2_72b: {np.average(proc_time_qwen2_72b)}")

    proc_time_llama_70b_formal_spec = np.array([41.78, 3.78, 38.26, 6.76, 6.57, 3.38, 3.36, 38.05, 37.56, 3.4, 7.32, 7.63, 6.42, 3.44, 24.43, 6.58, 4.55, 13.16, 38.07, 3.37, 3.73, 6.69, 6.55, 37.19, 14.37, 3.36, 5.57, 3.36, 3.37, 14.14, 39.13, 5.59, 11.86, 27.28, 3.37, 6.55, 3.42, 11.95, 27.59, 13.65, 13.72, 12.74, 11.96, 3.76, 6.58, 2.6, 3.87, 3.35, 13.39, 3.39, 3.36, 6.7, 12.95, 5.59, 5.23, 3.79, 3.39, 3.36, 13.18, 3.41, 3.52, 38.16, 13.4, 3.35, 6.57, 6.72, 3.73, 12.02, 2.59, 12.74, 11.19, 3.39, 13.18, 5.53, 3.37, 6.56, 28.34, 7.22, 6.71, 2.6, 12.95, 13.08, 3.46, 6.57, 21.74, 3.82, 5.56, 3.44, 12.68, 6.57, 36.0, 9.6, 3.47, 2.54, 12.72, 5.67, 3.35, 12.99, 6.57, 6.42, 3.36, 7.42, 3.36, 3.79, 12.86, 13.02, 2.59, 6.71, 13.43, 3.72, 6.6, 6.57, 13.46, 3.39, 28.25, 11.35, 6.57, 3.73, 6.57, 3.35, 6.61, 6.57, 3.73, 26.29, 3.38, 3.38, 3.72, 5.65, 6.54, 6.7, 13.23, 13.19, 3.73, 13.57, 6.94, 3.35, 13.22, 6.75, 3.72, 11.95, 6.55, 11.81, 6.41, 3.33, 2.59, 2.56, 2.62, 13.42, 3.4, 3.36, 39.4, 2.66, 16.18, 37.07, 6.57, 3.36, 11.75, 6.55, 5.51, 3.84, 3.36, 11.14, 2.63, 7.17, 3.35, 2.68, 3.35, 6.85, 2.59, 3.86, 3.39, 37.79, 8.63, 4.56, 3.4, 13.24, 2.59, 6.56, 13.2, 3.72, 13.42, 12.83, 12.46, 11.67, 3.72, 3.36, 3.79, 3.35, 13.37, 6.7, 6.55, 6.69, 3.38, 13.41, 7.29, 3.43, 11.81, 2.64, 6.55, 3.29, 2.66, 12.12, 13.42, 14.21, 6.57, 3.41, 3.37, 3.86, 3.36, 7.24, 6.55, 11.94, 13.94, 2.63, 3.36, 7.36, 3.37, 13.42, 3.82, 26.35, 3.72, 5.86, 6.81, 3.81, 2.62, 4.28, 26.62, 6.57, 3.36, 3.38, 2.69, 3.35, 3.35, 6.4, 37.41, 6.59, 3.81, 3.37, 3.39, 2.63, 2.67, 3.37, 3.66, 12.83, 15.51, 3.37, 13.41, 3.35, 3.72, 6.59, 5.58, 13.18, 6.71, 5.59, 13.77, 28.54, 6.95, 3.35, 37.96, 37.87, 3.35, 3.4, 3.35, 5.23, 11.82, 39.91, 3.41, 20.74, 3.97, 3.64, 11.94, 3.89, 28.48, 6.71, 3.35, 35.15, 11.93, 37.4, 10.62, 3.8, 6.58, 6.0, 3.37, 3.87, 11.96, 3.38, 3.35, 3.44, 2.59, 2.71, 3.35, 14.04, 12.46, 4.48, 6.67, 38.09, 4.57, 3.4, 7.01, 3.35, 3.35, 12.98, 3.36, 3.72, 6.55, 6.56, 7.96, 6.55, 2.59, 13.24, 11.76, 11.97, 12.94, 13.46, 3.85, 7.15, 3.8, 11.21, 17.26, 3.4, 3.36, 11.4, 7.76, 3.35, 3.39, 11.95, 7.21, 2.59, 6.56, 11.41, 5.58, 2.6, 6.7, 3.71, 6.56, 7.23, 13.4, 12.96, 3.36, 3.87, 3.43, 13.17, 38.28, 3.38, 2.69, 13.39, 7.72, 6.56, 11.8, 6.05, 3.88, 29.5, 6.63, 3.6, 13.47, 3.37, 6.56, 13.37, 6.58, 3.43, 3.39, 2.59, 7.29, 13.29, 3.43, 3.35, 11.83, 3.46, 3.38, 11.56, 2.67, 3.39, 3.74, 13.68, 3.43, 13.61, 3.36, 3.35, 8.86, 12.17, 12.77, 6.59, 3.8, 3.66, 2.6, 3.79, 13.08, 3.74, 6.55, 6.7, 6.57, 13.19, 3.43, 7.72, 3.79, 13.37, 4.63, 6.55, 6.6, 3.72, 3.46, 11.57, 13.15, 3.36, 3.36, 3.47, 3.74, 37.01, 11.98, 3.75, 2.59, 6.56, 3.37, 3.79, 3.43, 3.72, 14.45, 2.64, 3.36, 3.35, 18.43, 3.37, 13.45, 25.95, 6.71, 3.81, 6.73, 3.8, 3.8, 3.52, 6.57, 6.69, 13.2, 6.88, 13.05, 6.55, 3.36, 3.4, 3.4, 14.72, 5.46, 3.79, 2.6, 3.85, 18.7, 3.75, 3.72, 3.37, 8.46, 13.37, 3.35, 7.0, 6.59, 3.78, 3.38, 3.36, 3.35, 11.37, 2.59, 7.29, 7.11, 12.61, 12.96, 12.33, 2.7, 6.66, 3.39, 4.2, 13.22, 2.59, 6.56, 6.88, 3.76, 12.7, 13.6, 12.63, 37.18, 6.72, 6.18, 3.8, 3.91, 13.23, 2.62, 13.6, 2.6, 3.87, 3.48, 5.5, 13.37, 3.46, 6.94, 13.45, 3.72, 3.42, 2.62, 12.91, 2.59, 3.38, 3.72, 12.93, 27.19, 6.57, 7.06, 7.19, 7.3, 3.8, 37.42, 3.29, 33.82, 2.63, 2.67, 37.93, 12.99, 13.61, 3.47, 2.7, 36.92, 5.8, 11.82, 3.64, 6.55, 2.66, 3.44, 6.67, 3.36, 3.8, 2.53, 3.87, 13.35, 2.69, 3.37, 12.99, 13.37, 7.36, 6.94, 6.86, 43.74, 7.29, 12.94, 11.79, 7.02, 26.0, 12.06, 28.78, 13.39, 13.16, 3.78, 3.36, 52.21, 7.1, 4.48, 3.38, 11.9, 11.7, 3.81, 6.57, 3.36, 38.02, 3.81, 13.43, 7.28, 12.97, 3.36, 12.72, 7.0, 26.22, 7.32, 3.86, 2.59, 3.8, 3.35, 2.69, 13.43, 7.31, 13.21, 4.55, 6.61, 3.71, 27.41, 3.36, 11.97, 7.21, 13.19, 6.72, 11.61, 3.43, 6.7, 7.68, 6.7, 11.84, 2.61, 12.27, 3.36, 3.35, 39.54, 7.03, 3.45, 3.29, 5.59, 3.45, 3.39, 6.71, 6.56, 3.39, 3.36, 3.39, 3.64, 3.8, 3.75, 3.39, 6.57, 11.94, 7.77, 3.73, 7.0, 13.26, 12.97, 12.99, 38.99, 6.71, 15.19, 3.46, 13.25, 3.39, 8.98, 7.28, 3.73, 3.35, 6.55, 7.29, 7.07, 3.39, 11.85, 3.36, 2.62, 13.37, 2.59, 12.92, 6.58, 7.6, 6.71, 3.36, 3.51, 3.36, 5.51, 3.79, 13.32, 6.59, 3.36, 3.38, 13.06, 3.96, 11.96, 3.43, 13.41, 3.87, 6.57, 3.77, 3.36, 3.73, 3.73, 6.57, 3.46, 3.36, 3.36, 12.95, 3.72, 7.11, 12.15, 2.53, 2.65, 13.41, 11.51, 3.4, 3.87, 6.72, 2.6, 7.28, 3.88, 38.19, 3.89, 29.51, 11.28, 2.69, 3.39, 6.57, 13.22, 2.6, 28.12, 13.99, 6.56, 2.66, 6.58, 27.95, 2.62, 3.37, 3.37, 35.09, 30.56, 13.24, 3.4, 2.59, 13.21, 2.53, 3.36, 35.38, 3.4, 2.52, 3.35, 31.14, 13.21, 7.3, 6.59, 3.36, 5.23, 7.22, 38.17, 7.26, 3.81, 3.75, 13.42, 3.4, 2.63, 3.36, 3.35, 11.94, 3.37, 2.6, 11.55, 3.87, 2.62, 3.4, 7.22, 13.2, 3.81, 6.56, 3.37, 3.43, 27.68, 7.09, 3.43, 3.39, 2.7, 3.45, 3.36, 6.71, 5.64, 3.39, 11.85, 12.54, 3.39, 7.79, 8.05, 6.54, 2.6, 2.7, 13.08, 3.39, 16.91, 7.0, 6.57, 3.5, 3.36, 11.94, 5.25, 3.42, 3.44, 5.52, 11.8, 3.36, 7.11, 3.46, 3.37])

    proc_time_llama_70b_formal_spec_cnt, proc_time_llama_70b_formal_spec_bin_cnt = np.histogram(proc_time_llama_70b_formal_spec, bins=300)
    proc_time_llama_70b_formal_spec_pdf = proc_time_llama_70b_formal_spec_cnt / sum(proc_time_llama_70b_formal_spec_cnt)
    proc_time_llama_70b_formal_spec_cdf = np.cumsum(proc_time_llama_70b_formal_spec_pdf)

    print(f"proc_time_llama_70b_formal_spec 95%: {np.percentile(proc_time_llama_70b_formal_spec, 95)}")
    print(f"proc_time_llama_70b_formal_spec 99%: {np.percentile(proc_time_llama_70b_formal_spec, 99)}")
    print(f"average proc_time_llama_70b_formal_spec: {np.average(proc_time_llama_70b_formal_spec)}")


    return [proc_time_qwen2_7b_nfv_conf_bin_cnt, proc_time_qwen2_7b_nfv_conf_cdf, proc_time_formal_spec_ft_bin_cnt, proc_time_formal_spec_ft_cdf, proc_time_qwen2_72b_bin_cnt, proc_time_qwen2_72b_cdf, proc_time_llama_70b_formal_spec_bin_cnt, proc_time_llama_70b_formal_spec_cdf]


if __name__ == "__main__":
    [proc_time_qwen2_7b_nfv_conf_bin_cnt, proc_time_qwen2_7b_nfv_conf_cdf, proc_time_formal_spec_ft_bin_cnt, proc_time_formal_spec_ft_cdf, proc_time_qwen2_72b_bin_cnt, proc_time_qwen2_72b_cdf, proc_time_llama_70b_formal_spec_bin_cnt, proc_time_llama_70b_formal_spec_cdf] = load_data()
    plt.plot(proc_time_qwen2_7b_nfv_conf_bin_cnt[1:], proc_time_qwen2_7b_nfv_conf_cdf, label="qwen2:7b, NFV configuration", linestyle="-", color="black")
    plt.plot(proc_time_formal_spec_ft_bin_cnt[1:], proc_time_formal_spec_ft_cdf, label="formal_spec_ft, formal specification", linestyle="--", color="black")
    plt.plot(proc_time_qwen2_72b_bin_cnt[1:], proc_time_qwen2_72b_cdf, label="qwen2:72b, NFV configuration", linestyle=":", color="black")
    plt.plot(proc_time_llama_70b_formal_spec_bin_cnt[1:], proc_time_llama_70b_formal_spec_cdf, label="llama3.1:70b, formal specification", linestyle="-.", color="black")
    plt.legend(bbox_to_anchor=(1.1, 1.05))
    plt.xlabel("Processing time (s)")
    plt.savefig(f'{scriptDir}/output/processing_time_CDF.pdf', format='pdf')
    plt.clf()



